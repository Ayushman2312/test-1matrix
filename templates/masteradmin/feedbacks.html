{% extends 'masteradmin/base.html' %}
{% load static %}
{% block content %}
            <div class="grid grid-cols-2 sm:grid-cols-4 gap-3 mb-4">
                <div class="bg-[#212121] rounded-xl p-4 hover:shadow-xl transition-all duration-300 flex-1">
                    <h3 class="text-[rgb(237,226,226,1)] text-sm font-bold mb-1">All Feedback</h3>
                    <p class="text-[#4CAF50] text-lg font-semibold">{{ all_feedbacks }}</p>
                    <p class="text-[#b3b3b3] text-xs">Last 7 days</p>
                    <button id="viewAllFeedbacks" class="mt-2 text-[#b3b3b3] text-xs hover:text-white transition-colors duration-300">View Details →</button>
                </div>
                <div class="bg-[#212121] rounded-xl p-4 hover:shadow-xl transition-all duration-300 flex-1">
                    <h3 class="text-[rgb(237,226,226,1)] text-sm font-bold mb-1">Positive</h3>
                    <p class="text-[#2196F3] text-lg font-semibold">{{ positive_feedbacks }}</p>
                    <p class="text-[#b3b3b3] text-xs">{{ positive_percentage }}% of total</p>
                    <button id="viewPositiveFeedbacks" class="mt-2 text-[#b3b3b3] text-xs hover:text-white transition-colors duration-300">View Details →</button>
                </div>
                <div class="bg-[#212121] rounded-xl p-4 hover:shadow-xl transition-all duration-300">
                    <h3 class="text-[rgb(237,226,226,1)] text-sm font-bold mb-1">Negative</h3>
                    <p class="text-[#FF9800] text-lg font-semibold">{{ negative_feedbacks }}</p>
                    <p class="text-[#b3b3b3] text-xs">{{ negative_percentage }}% of total</p>
                    <button id="viewNegativeFeedbacks" class="mt-2 text-[#b3b3b3] text-xs hover:text-white transition-colors duration-300">View Details →</button>
                </div>
                <div class="bg-[#212121] rounded-xl p-4 hover:shadow-xl transition-all duration-300">
                    <h3 class="text-[rgb(237,226,226,1)] text-sm font-bold mb-1">One Star</h3>
                    <p class="text-[#F44336] text-lg font-semibold">{{ one_star_feedbacks }}</p>
                    <p class="text-[#b3b3b3] text-xs">{{ one_star_percentage }}% of total</p>
                    <button id="viewOneStarFeedbacks" class="mt-2 text-[#b3b3b3] text-xs hover:text-white transition-colors duration-300">View Details →</button>
                </div>
            </div>
            
            <!-- Recent Feedback -->
            <div class="bg-[#212121] rounded-xl p-4 hover:shadow-xl transition-all duration-300">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="feedback-section-title text-[#ffffff] text-base font-bold">Recent Feedbacks</h3>
                    <div class="flex items-center space-x-2">
                        <button id="prevBtn" class="px-3 py-1 bg-[#2a2a2a] text-[#b3b3b3] rounded-lg hover:bg-[#333] disabled:opacity-50 disabled:cursor-not-allowed">Previous</button>
                        <span class="text-[#b3b3b3]">Page <span id="currentPage">1</span></span>
                        <button id="nextBtn" class="px-3 py-1 bg-[#2a2a2a] text-[#b3b3b3] rounded-lg hover:bg-[#333] disabled:opacity-50 disabled:cursor-not-allowed">Next</button>
                    </div>
                </div>
                <div class="space-y-4" id="feedbackContainer">
                    <div class="text-center py-4">
                        <p class="text-[#b3b3b3]">Loading feedbacks...</p>
                    </div>
                </div>
            </div>
            {% comment %} <!-- Debug Info -->
            <div id="debugInfo" class="mt-4 p-4 bg-[#212121] rounded-xl text-[#b3b3b3] text-xs" style="display: none;">
                <p>Current Type: <span id="debugType">all</span></p>
                <p>Current Page: <span id="debugPage">1</span></p>
                <p>Last Error: <span id="debugError">none</span></p>
            </div> {% endcomment %}
    </div>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="{% static 'js/feedback.js' %}?v=3"></script>
{% endblock %}
