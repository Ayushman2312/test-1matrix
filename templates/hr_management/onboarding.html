{% extends 'user_dashboard/base.html' %}
{% load static %}
{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    {% comment %} <title>Onboarding</title> {% endcomment %}
</head>
<body>
  <div class="container py-8">
    <!-- Toggle Switch -->
    <div class="flex items-center justify-start mb-6">
        <button id="addEmployeeTab" onclick="switchTab('add')" class="px-4 py-2 mr-2 text-sm font-medium text-center bg-white rounded shadow-sm hover:bg-gray-50">
            Add Employee
        </button>
        <button id="viewEmployeesTab" onclick="switchTab('view')" class="px-4 py-2 text-sm font-medium text-center bg-gray-200 rounded hover:bg-gray-300">
            View Invites
        </button>
    </div>

    <!-- View Employees Table Section -->
    <div id="viewEmployeesSection" class="hidden">
        <div class="bg-white shadow-md rounded-lg overflow-hidden">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-50">
                    <tr>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Email</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Mobile</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Department</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Designation</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                    </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-200">
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">John Smith</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">john.smith@example.com</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">+1 234-567-8901</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Engineering</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Senior Developer</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">
                                Pending
                            </span>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                            <div class="relative">
                                <button class="hover:text-gray-900">
                                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
                                    </svg>
                                </button>
                                <div class="hidden group-hover:block absolute right-full top-0 mt-0 mr-2 w-48 bg-white rounded-lg shadow-lg transform transition-transform duration-200 hover:scale-105" style="z-index: 50; perspective: 1000px;">
                                    <div class="py-2 rounded-lg border border-gray-200 bg-white transform hover:rotate-1 transition-transform duration-200">
                                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">View</a>
                                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Revise Offer</a>
                                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Accept Offer</a>
                                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Reject Offer</a>
                                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Cancel Offer</a>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Sarah Johnson</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">sarah.j@example.com</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">+1 234-567-8902</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Marketing</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Marketing Manager</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800">
                                Submitted
                            </span>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                            <div class="relative">
                                <button class="hover:text-gray-900">
                                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
                                    </svg>
                                </button>
                                <div class="hidden group-hover:block absolute right-full top-0 mt-0 mr-2 w-48 bg-white rounded-lg shadow-lg transform transition-transform duration-200 hover:scale-105" style="z-index: 50; perspective: 1000px;">
                                    <div class="py-2 rounded-lg border border-gray-200 bg-white transform hover:rotate-1 transition-transform duration-200">
                                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">View</a>
                                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Revise Offer</a>
                                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Accept Offer</a>
                                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Reject Offer</a>
                                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Cancel Offer</a>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Michael Chen</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">m.chen@example.com</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">+1 234-567-8903</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Sales</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Sales Representative</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-purple-100 text-purple-800">
                                Discussion
                            </span>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                            <div class="relative">
                                <button class="hover:text-gray-900">
                                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
                                    </svg>
                                </button>
                                <div class="hidden group-hover:block absolute right-full top-0 mt-0 mr-2 w-48 bg-white rounded-lg shadow-lg transform transition-transform duration-200 hover:scale-105" style="z-index: 50; perspective: 1000px;">
                                    <div class="py-2 rounded-lg border border-gray-200 bg-white transform hover:rotate-1 transition-transform duration-200">
                                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">View</a>
                                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Revise Offer</a>
                                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Accept</a>
                                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Reject</a>
                                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Cancel</a>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Add Employee Form (Hidden by default) -->
    <div id="employeeForm" class="bg-white p-5 rounded-lg shadow-lg max-w-4xl">
      <h2 class="text-xl font-bold mb-5 text-gray-800">Add New Employee</h2>
      <form class="space-y-5">
        <!-- Name and Email Row -->
        <!-- Company Selection -->
        <div class="mb-5">
            <label class="block text-black mb-1 text-sm">Select Company</label>
            <select class="w-[26%] p-1.5 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm" required>
                <option value="">Choose Company</option>
                {% for company in companies %}
                    <option value="{{ company.company_id }}">{{ company.company_name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="block text-gray-700 mb-1 text-sm">Employee Name</label>
            <input type="text" class="w-full p-1.5 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm" required>
          </div>
          <div>
            <label class="block text-gray-700 mb-1 text-sm">Email ID</label>
            <input type="email" class="w-full p-1.5 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm" required>
          </div>
        </div>

        <!-- Selections Row -->
        <div class="grid grid-cols-5 gap-4">
          <!-- Department Selection -->
          <div>
            <label class="block text-gray-700 mb-1 text-sm">Select Department</label>
            <select class="w-full p-1.5 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm" required>
              <option value="">Choose Department</option>
              {% for department in departments %}
                <option value="{{ department.department_id }}">{{ department.name }}</option>
              {% endfor %}
            </select>
          </div>

          <!-- Designation Selection -->
          <div>
            <label class="block text-gray-700 mb-1 text-sm">Select Designation</label>
            <select class="w-full p-1.5 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm" required>
              <option value="">Choose Designation</option>
              {% for designation in designations %}
                <option value="{{ designation.designation_id }}">{{ designation.name }}</option>
              {% endfor %}
            </select>
          </div>

          <!-- Terms and Conditions Selection -->
          <div>
            <label class="block text-gray-700 mb-1 text-sm">Select T&C</label>
            <select class="w-full p-1.5 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm" required>
              <option value="">Choose T&C</option>
              {% for tandc in tandcs %}
                <option value="{{ tandc.tandc_id }}">{{ tandc.name }}</option>
              {% endfor %}
            </select>
          </div>

          <!-- Role Selection -->
          <div>
            <label class="block text-gray-700 mb-1 text-sm">Select Role</label>
            <select class="w-full p-1.5 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm" required>
              <option value="">Choose Role</option>
              {% for role in roles %}
                <option value="{{ role.role_id }}">{{ role.name }}</option>
              {% endfor %}
            </select>
          </div>

          <div>
            <label class="block text-gray-700 mb-1 text-sm">Select Offer Letter</label>
            <select id="offerLetterSelect" class="w-full p-1.5 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm" required onchange="updateOfferLetterContent()">
              <option value="">Choose Offer Letter Template</option>
              {% for letter in offer_letters %}
                <option value="{{ letter.offer_letter_id }}" data-content="{{ letter.content }}">{{ letter.name }}</option>
              {% endfor %}
            </select>
          </div>
        </div>

        <!-- Offer Letter Row -->
        <div class="space-y-4">
          <div>
            <label class="block text-gray-700 mb-1 text-sm">Customize Offer Letter Content</label>
            <textarea id="offerLetterContent" name="offer_letter_content" class="w-full p-1.5 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 h-28 text-sm" required></textarea>
          </div>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-medium py-1.5 px-5 rounded-lg shadow-md transition duration-300 ease-in-out text-sm">
          Send Invite
        </button>
      </form>
    </div>
  </div>
</div>
<script src="{% static 'js/hr/onboarding.js' %}"></script>
</html>
{% endblock %}
