{% extends 'user_dashboard/base.html' %}
{% load static %}
{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>HR Management Dashboard</title>
</head>
<body class="bg-gray-100">
    <div class="w-[100%]  py-8">
        <!-- Grid Container -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
            <!-- Departments Card -->
            <!-- Departments Card -->
            <a href="" class="block">
                <div class="bg-white rounded-lg p-4 shadow-[0_0px_4px_rgba(0,0,0,0.1)] cursor-pointer hover:bg-[rgb(230,228,232)] transition-colors">
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 bg-white rounded-lg flex items-center justify-center">
                            <span class="text-purple-600 font-medium">W</span>
                        </div>
                        <div>
                            <h3 class="text-gray-900 font-medium text-sm">Departments</h3>
                            <p class="text-gray-500 text-xs">Description</p>
                        </div>
                    </div>
                </div>
            </a>

            <!-- Designation Card -->
            <a href="" class="block">
                <div class="bg-white rounded-lg p-4 shadow-[0_0px_4px_rgba(0,0,0,0.1)] cursor-pointer hover:bg-[rgb(230,228,232)] transition-colors">
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 bg-white rounded-lg flex items-center justify-center">
                            <span class="text-purple-600 font-medium">W</span>
                        </div>
                        <div>
                            <h3 class="text-gray-900 font-medium text-sm">Designation</h3>
                            <p class="text-gray-500 text-xs">Description</p>
                        </div>
                    </div>
                </div>
            </a>

            <!-- Roles Card -->
            <a href="" class="block">
                <div class="bg-white rounded-lg p-4 shadow-[0_0px_4px_rgba(0,0,0,0.1)] cursor-pointer hover:bg-[rgb(230,228,232)] transition-colors">
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 bg-white rounded-lg flex items-center justify-center">
                            <span class="text-purple-600 font-medium">W</span>
                        </div>
                        <div>
                            <h3 class="text-gray-900 font-medium text-sm">Roles</h3>
                            <p class="text-gray-500 text-xs">Description</p>
                        </div>
                    </div>
                </div>
            </a>

            <!-- Offer Letters Card -->
            <a href="" class="block">
                <div class="bg-white rounded-lg p-4 shadow-[0_0px_4px_rgba(0,0,0,0.1)] cursor-pointer hover:bg-[rgb(230,228,232)] transition-colors">
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 bg-white rounded-lg flex items-center justify-center">
                            <span class="text-purple-600 font-medium">W</span>
                        </div>
                        <div>
                            <h3 class="text-gray-900 font-medium text-sm">Offerletters</h3>
                            <p class="text-gray-500 text-xs">Description</p>
                        </div>
                    </div>
                </div>
            </a>

            <!-- Policies Card -->
            <a href="" class="block">
                <div class="bg-white rounded-lg p-4 shadow-[0_0px_4px_rgba(0,0,0,0.1)] cursor-pointer hover:bg-[rgb(230,228,232)] transition-colors">
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 bg-white rounded-lg flex items-center justify-center">
                            <span class="text-purple-600 font-medium">W</span>
                        </div>
                        <div>
                            <h3 class="text-gray-900 font-medium text-sm">Policies</h3>
                            <p class="text-gray-500 text-xs">Description</p>
                        </div>
                    </div>
                </div>
            </a>

            <!-- Hiring Agreement Card -->
            <a href="" class="block">
                <div class="bg-white rounded-lg p-4 shadow-[0_0px_4px_rgba(0,0,0,0.1)] cursor-pointer hover:bg-[rgb(230,228,232)] transition-colors">
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 bg-white rounded-lg flex items-center justify-center">
                            <span class="text-purple-600 font-medium">W</span>
                        </div>
                        <div>
                            <h3 class="text-gray-900 font-medium text-sm">Hiring Agreement</h3>
                            <p class="text-gray-500 text-xs">Description</p>
                        </div>
                    </div>
                </div>
            </a>

            <!-- Handbook Card -->
            <a href="" class="block">
                <div class="bg-white rounded-lg p-4 shadow-[0_0px_4px_rgba(0,0,0,0.1)] cursor-pointer hover:bg-[rgb(230,228,232)] transition-colors">
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 bg-white rounded-lg flex items-center justify-center">
                            <span class="text-purple-600 font-medium">W</span>
                        </div>
                        <div>
                            <h3 class="text-gray-900 font-medium text-sm">Handbook</h3>
                            <p class="text-gray-500 text-xs">Description</p>
                        </div>
                    </div>
                </div>
            </a>

            <!-- Training Materials Card -->
            <a href="" class="block">
                <div class="bg-white rounded-lg p-4 shadow-[0_0px_4px_rgba(0,0,0,0.1)] cursor-pointer hover:bg-[rgb(230,228,232)] transition-colors">
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 bg-white rounded-lg flex items-center justify-center">
                            <span class="text-purple-600 font-medium">W</span>
                        </div>
                        <div>
                            <h3 class="text-gray-900 font-medium text-sm">Training Materials</h3>
                            <p class="text-gray-500 text-xs">Any training query</p>
                        </div>
                    </div>
                </div>
            </a>
            {% if folder_list %}
            {% for folder in folder_list %}
            <a href="{% url 'folder' folder.folder_id %}" class="block">
                <div class="bg-white rounded-lg p-4 shadow-[0_0px_4px_rgba(0,0,0,0.1)] cursor-pointer hover:bg-[rgb(230,228,232)] transition-colors">
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 bg-white rounded-lg flex items-center justify-center">
                            {% if folder.logo %}
                                <img src="{{ folder.logo.url }}" alt="{{ folder.name }}" class="w-full h-full object-cover rounded-lg">
                            {% else %}
                                <span class="text-purple-600 font-medium">{{ folder.name|first|upper }}</span>
                            {% endif %}
                        </div>
                        <div>
                            <h3 class="text-gray-900 font-medium text-sm">{{ folder.name }}</h3>
                            <p class="text-gray-500 text-xs">{{ folder.description }}</p>
                        </div>
                    </div>
                </div>
            </a>
            {% endfor %}
            {% endif %}
            <!-- Add More Button -->
            <button onclick="openFolderModal()" class="block w-full">
                <div class="bg-white rounded-lg p-4 shadow-[0_0px_4px_rgba(0,0,0,0.1)] cursor-pointer hover:bg-[rgb(230,228,232)] transition-colors">
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 bg-white rounded-lg flex items-center justify-center">
                            <span class="text-purple-600 font-medium">+</span>
                        </div>
                        <div>
                            <h3 class="text-gray-900 font-medium text-sm">Add More</h3>
                            <p class="text-gray-500 text-xs">Create new folder</p>
                        </div>
                    </div>
                </div>
            </button>

            <!-- Folder Creation Modal -->
            <div id="folderModal" class="fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm hidden overflow-y-auto h-full w-full transition-all duration-300" style="z-index: 20;">
                <div class="relative top-20 mx-auto p-6 border w-[32rem] shadow-2xl rounded-2xl bg-white transform transition-all duration-300" id="modalContent">
                    <div class="absolute top-4 right-4">
                        <button onclick="closeFolderModal()" class="text-gray-400 hover:text-gray-600 transition-colors duration-200">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>

                    <div class="mb-4">
                        <h3 class="text-xl font-semibold text-gray-800">Create New Folder</h3>
                        <p class="text-gray-500 mt-1 text-sm">Fill in the details to create a new folder</p>
                    </div>

                    <form id="folderForm" class="space-y-4">
                        {% csrf_token %}
                        <div class="space-y-1">
                            <label class="block text-sm font-medium text-gray-700">Folder Title</label>
                            <div class="relative">
                                <input type="text" id="folderTitle" name="title" 
                                    class="w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-purple-500 focus:ring focus:ring-purple-200 transition-all duration-200 placeholder-gray-400"
                                    placeholder="Enter folder title">
                                <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-gray-400">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z" />
                                    </svg>
                                </div>
                            </div>
                        </div>
                        
                        <div class="space-y-1">
                            <label class="block text-sm font-medium text-gray-700">Logo</label>
                            <div class="mt-1 flex justify-center px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-400 transition-colors duration-200">
                                <div class="space-y-1 text-center">
                                    <svg class="mx-auto h-8 w-8 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48">
                                        <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                    </svg>
                                    <div class="flex text-xs text-gray-600">
                                        <label for="folderLogo" class="relative cursor-pointer rounded-md font-medium text-purple-600 hover:text-purple-500">
                                            <span>Upload a file</span>
                                            <input id="folderLogo" name="logo" type="file" accept="image/*" class="sr-only">
                                        </label>
                                        <p class="pl-1">or drag and drop</p>
                                    </div>
                                    <p class="text-xs text-gray-500">PNG, JPG, GIF up to 10MB</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="space-y-1">
                            <label class="block text-sm font-medium text-gray-700">Description</label>
                            <textarea id="folderDescription" name="description" rows="3" 
                                class="w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-purple-500 focus:ring focus:ring-purple-200 transition-all duration-200 placeholder-gray-400"
                                placeholder="Enter folder description"></textarea>
                        </div>

                        <div class="flex justify-end space-x-3 pt-4">
                            <button type="button" onclick="closeFolderModal()" 
                                class="px-4 py-2 rounded-lg text-gray-700 bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 transition-all duration-200">
                                Cancel
                            </button>
                            <button type="submit" 
                                class="px-4 py-2 rounded-lg text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all duration-200">
                                Create Folder
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <script src="{% static 'js/hr/creation.js' %}"></script>
</body>
</html>
{% endblock %}
